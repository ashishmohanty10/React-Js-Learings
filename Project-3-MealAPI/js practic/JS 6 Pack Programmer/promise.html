<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <script>
        // const a  = new Promise((resolve,reject)=>{

        //     let success = true;

        //     if(success) resolve("Promise Fulfilled")
        //     else reject("some technical error")
        // })

        // a.then(
        //     (parameter)=>{
        //         console.log(parameter);

        //     }
        // ).catch((error)=>{
        //     console.log(error)
        // })
        

        // let p = new Promise((resolve,reject)=>{
        //     let a = 1+1
        //     if (a==2){
        //         resolve('sucess')
        //     }else{
        //         reject('Failed')
        //     }
        // })
        
        // p.then((message)=>{
        //     console.log("this is in the then " + message)
        // }).catch(()=>{
        //     console.log('this is in catch ' + message)
        // })



        //  let complete  = false;
        function prom(complete){
            return new Promise(function(resolve,reject){
            console.log("Fetching Data,Please wait")
            setTimeout(() => {
                if(complete){
                resolve("Success");
            }
            else{
                reject("Failed")
            }
            }, 3000);
         })
        }
         
        prom(true).then((result)=>{
            console.log(result)
        }).catch((error)=>{
            console.log(error)
        })

        //  console.log(prom(true))



        let promiseCall = function(returnData,message) {
            return function(resolve,reject){
                setTimeout(() => {
                console.log(`The ${message} promise has resolved`)
                resolve(returnData)
            }, returnData * 100);
            }
        }

        let p1 = new Promise(promiseCall(10,"first"))
        let p2 = new Promise(promiseCall(20,"second"))
        let p3 = new Promise(promiseCall(30,"third"))
        // let p2 = new Promise((resolve,reject)=>{
        //     setTimeout(() => {
        //         console.log("Secons promise has resolved")
        //         resolve(20)
        //     }, 2000);
        // })

        // let p3 = new Promise((resolve,reject)=>{
        //     setTimeout(() => {
        //         console.log("THirid promise has resolved")
        //         resolve(30)
        //     }, 2000);
        // })

        let total = 0
        Promise.all([p1,p2,p3]).then((result)=>{
            for(let i in result){
                total += result[i]
            }
            console.log(`REsults : ${result}`)
            console.log(`Total : ${total}`)
        }).catch((error)=>{
            console.log(`REsults : ${error}`)
        })

        
    </script>
</body>
</html> 